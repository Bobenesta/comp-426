
<!DOCTYPE html>

<html>
<head>
<title>UNCarpooling</title>
<style>
	td, th {
		border: thin solid black;
	}
	tr:nth-child(2n) {
		background-color: #aaaaff;
	}
	tr td:first-child {
		width: 3em;
	}
	tr td:first-child + td {
		width: 20em;
	}
</style>
</head>

<body>
<h1>Assignment 5 - UNCarpooling group</h1>

<h2>RESTful Interfaces to UNCarpooling</h2>


<table>
	<thead>
		<tr><th>HTTP Method</th>
			<th>URL Form</th>
			<th>Parameters</th>
			<th>Result structure</th>
			<th>Description</th></tr>
	</thead>
	<tbody>
		<tr><td>POST</td>
			<td>/signup.php</td>
			<td>userInfo <br>all information needed by user table</td>
			<td>true/false</td> 
			<td>We add a new row to user table, or return false if the operation fail.</td>
		</tr>

		<tr><td>POST</td>
			<td>/login.php</td>
			<td>user name, password</td>
			<td>{userId: <em>String</em>}</td>
			<td>return userId, redirects to index.php; if username/password combination is not legal, redirects to login.php.</td>
		</tr>

		<tr><td>GET</td>
			<td>/searchoffer.php?(some key and value pairs)</td>
			<td><dl>
					<dt>searchInfo</dt> </dl>
			</td>
			<td>Array of Offers</td>
			<td>Array of offers matching criteria specified by parameters.</td>
		</tr>

		<tr><td>GET</td>
			<td>/rating.php/<em>&lt;userId&gt;</em></td>
			<td>userId</td>
			<td>{id: <em>Integer</em>, <br>
				first: <em>String</em>, <br>
				last: <em>String</em>, <br>
				rating: <em>Integer</em>, <br>
			}</td>
			<td>rating information related to userId specified by <em>&lt;id&gt;</em>. 404 Not Found returned if id specified is not legal.</td>
		</tr>

		<tr><td>GET</td>
			<td>/profile.php/<em>&lt;id&gt;</em></td>
			<td>userId</td>
			<td>{phone: <em>Integer</em>, <br>
				email: <em>String</em><br>
			}</td>
			<td>show User profile for this userId. Possibly empty.</td>
		</tr>
		
			<tr><td>UPDATE</td>
			<td>/profile.php</td>
			<td>userId, phone, email</td>
			<td>{phone: <em>Integer</em>, <br>
				email: <em>String</em><br>
			}</td>
			<td>Update user profile for this userId. Possibly empty.</td>
		</tr>

		<tr><td>GET</td>
			<td>/request.php/<em>&lt;id&gt;</em></td>
			<td>userId</td>
			<td>Array of requests
			 </td>
			 <td>Array of requests that matches userId 
			 </td>
		</tr>

		<tr><td>DELETE</td>
			<td>/request.php/</td>
			<td>userId, requestId</td>
			<td>true or false
			 </td>
			 <td>delete one certain request that matches userId's requestId
			 </td>
		</tr>

		<tr><td>GET</td>
			<td>/rideronfo.php/<em>&lt;rideId&gt;</em></td>
			<td>rideId</td>
			<td>car capacity: String
			 </td>
			 <td>some info about the ride 
			 </td>
		</tr>

		<tr><td>POST</td>
			<td>/sendMessage.php</td>
			<td>message body, telephone number, receiver userId, sender userId</td>
	        <td>true/false</td>
			<td>send a message
			 </td>
			</tr>
			
				<tr><td>GET</td>
			<td>/getMessage.php<em>&lt;userId&gt;</em></td>
			<td>userId</td>
	        <td>Array of messages</td>
			<td>Array of messages matching userId
			 </td>
			</tr>
		
		
        		<tr><td>POST</td>
			<td>/offerRide.php</td>
			<td>offerInfo</td>
	        <td>true/false</td>
			<td>offer a new ride, return true if post successfully, otherwise return false
			 </td>
			</tr>
			
				<tr><td>GET</td>
			<td>/getOffer.php<em>&lt;userId&gt;</em></td>
			<td>userId</td>
	        <td>Array of offers</td>
			<td>Array of offers matching userId
			 </td>
			</tr>
			
			<tr><td>GET</td>
			<td>/searchRequest.php?(some key and value pairs)</td>
			<td><dl>
					<dt>requestInfo</dt> </dl>
			</td>
			<td>Array of requests</td>
			<td>Array of requests matching criteria specified by parameters.</td>
		</tr>
			
				<tr><td>GET</td>
			<td>/stopsByRideId.php<em>&lt;rideId&gt;</em></td>
			<td>rideId</td>
	        <td>Array of stops along the ride</td>
			<td>Array of stops along the ride matching stopId
			 </td>
			</tr>
			
				<tr><td>GET</td>
			<td>/stopsByUserId.php<em>&lt;stopId&gt;</em></td>
			<td>stopId</td>
	        <td>userId</td>
			<td>userId that matches stopId
			 </td>
			</tr>
	</tbody>
</table>

</body>
</html>

